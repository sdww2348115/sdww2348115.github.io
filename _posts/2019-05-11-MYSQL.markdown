---
layout: post
title:  "高性能MYSQL读书笔记"
date:   2019-05-11 23:38:00 +0800
categories: MYSQL DATABSE
permalink: /database/mysql
description: 高性能MYSQL第一章读书笔记
---

## 总结
第一章介绍了MYSQL数据库的整体架构、以SQL查询为引子，介绍了一条SQL语句整体的执行流程；
引出了数据库的连接、事务、锁等特性；最后介绍了多种存储引擎，简单介绍了这些引擎的实现和功能特点；最后简要介绍了MYSQL的版本历史。

## 整体架构
MYSQL的整体架构如下图所示

[mysql-architecture]

服务层比较特殊，大多数MYSQL的核心服务功能都在这一层，包括所有的内置函数（如日期、时间、数学、加密等）以及所有的跨存储引擎功能：存储过程、触发器、视图等。

### 连接器
连接器负责权限认证并管理数据库连接的上下文。通常情况下，MYSQL会为每一个connection建立一个单独的线程用于执行其命令，MYSQL5.5版本后开始支持线程池模型。

* 查询缓存在开启的情况下，在查询语句不变且表未被修改的情况下直接从缓存返回数据
* 分析器用于解析SQL语句，进行词法分析和语法分析
* 优化器会根据存储引擎的预测结果，针对性的选择较优方式执行查询
* 执行器根据优化器的结果调用存储引擎API，完成SQL语句的实际执行步骤